<!DOCTYPE html>
<!--
COPYRIGHT AND LICENSE

Copyright 2014 The Regents of the University of California All Rights Reserved

Permission to copy, modify and distribute any part of this CRBS Workflow 
Service for educational, research and non-profit purposes, without fee, and
without a written agreement is hereby granted, provided that the above 
copyright notice, this paragraph and the following three paragraphs appear
in all copies.

Those desiring to incorporate this CRBS Workflow Service into commercial 
products or use for commercial purposes should contact the Technology
Transfer Office, University of California, San Diego, 9500 Gilman Drive, 
Mail Code 0910, La Jolla, CA 92093-0910, Ph: (858) 534-5815, 
FAX: (858) 534-7345, E-MAIL:invent@ucsd.edu.

IN NO EVENT SHALL THE UNIVERSITY OF CALIFORNIA BE LIABLE TO ANY PARTY FOR 
DIRECT, INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES, INCLUDING 
LOST PROFITS, ARISING OUT OF THE USE OF THIS CRBS Workflow Service, EVEN IF 
THE UNIVERSITY OF CALIFORNIA HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.

THE CRBS Workflow Service PROVIDED HEREIN IS ON AN "AS IS" BASIS, AND THE
UNIVERSITY OF CALIFORNIA HAS NO OBLIGATION TO PROVIDE MAINTENANCE, SUPPORT, 
UPDATES, ENHANCEMENTS, OR MODIFICATIONS. THE UNIVERSITY OF CALIFORNIA MAKES
NO REPRESENTATIONS AND EXTENDS NO WARRANTIES OF ANY KIND, EITHER IMPLIED OR 
EXPRESS, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF 
MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, OR THAT THE USE OF 
THE CRBS Workflow Service WILL NOT INFRINGE ANY PATENT, TRADEMARK OR OTHER
RIGHTS. 
-->
<html>
    <head>
        <title>Users</title>
        <meta charset="UTF-8">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
       
        <script>
           $(document).ready(function() {
             var theurl = $(location).attr('protocol')+"//"+$(location).attr('host');
             var line = "<br>theurl = "+theurl+"</br>";
             $(line).appendTo("#pageinfo");
             
             
              $( "#submitbutton" ).click(function(event){
                 var permissionVal = 0;
                 $( 'input[type="checkbox"]').each(function(index,boxy){
                    if ($(boxy).is(':checked')){
                        permissionVal += Number($(boxy).val());
                    }
                 });
                 var line = "<br>Permission = "+permissionVal+"</br>";
                 $(line).appendTo("#pageinfo");
                 event.preventDefault();
              });

              $( "#addip" ).click(function(event){
                 event.preventDefault();
                 var ip = $( "#iptext" ).val();
                 var data = "<br id=\"iplist\">"+ip+"</br>";
                 $( data ).appendTo("#ipadds");
              });  
              $( "#iptext" ).keypress(function(event){
                 if (event.which == 13){
                    event.preventDefault();
                    var ip = $( "#iptext" ).val();
                    var data = "<br id=\"iplist\">"+ip+"</br>";
                    $( data ).appendTo("#ipadds");
                }
              });  
              
              
              $( "#checkall" ).click(function(event){
                 event.preventDefault();
                 $( 'input[type="checkbox"]').each(function(index,boxy){
                    $(boxy).prop('checked',true);
                 });
              });  
              
              $( "#uncheckall" ).click(function(event){
                 event.preventDefault();
                 $( 'input[type="checkbox"]').each(function(index,boxy){
                    $(boxy).prop('checked',false);
                 });
              });  

              // look into thishttp://stackoverflow.com/questions/11078324/how-to-create-json-object-using-jquery

           });
        </script>
    </head>
    <body>
       <p>Add User Form</p>
       <form id="adduser" action="users.html">
           <div id="pageinfo"></div>
          User Login: <input type="text" value=""/><p/>
         
          <b>Permissions: </b><p/>
         
          <button type="button" id="checkall" name="checkall">check all</button> <button type="button" id="uncheckall" name="uncheckall">uncheck all</button><br/>
          
          <input type="checkbox" name="permission" value="1">List all jobs</input><br/>
          <input type="checkbox" name="permission" value="2">List their jobs</input><br/>
          <input type="checkbox" name="permission" value="4">Update all jobs</input><br/>
          <input type="checkbox" name="permission" value="8">Update their jobs</input><br/>
          <input type="checkbox" name="permission" value="16">Create job</input><br/>
          <input type="checkbox" name="permission" value="32">List all workflows</input><br/>
          <input type="checkbox" name="permission" value="64">List their workflows</input><br/>
          <input type="checkbox" name="permission" value="128">Update all workflows</input><br/>
          <input type="checkbox" name="permission" value="256">Update their workflows</input><br/>
          <input type="checkbox" name="permission" value="512">Create workflow</input><br/>
          <input type="checkbox" name="permission" value="1024">Download all workflows</input><br/>
          <input type="checkbox" name="permission" value="2048">Download their workflows</input><br/>
          <input type="checkbox" name="permission" value="4096">Run as another user</input><br/>
          <input type="checkbox" name="permission" value="8192">List all workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="16384">List their workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="32768">Create workspacefile</input><br/>
          <input type="checkbox" name="permission" value="65536">Update all workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="131072">Update their workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="262144">Download all workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="524288">Download their workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="1048576">List all users</input><br/>
          <input type="checkbox" name="permission" value="2097152">List their users</input><br/>
          <input type="checkbox" name="permission" value="4194304">Create user</input><br/>
          <input type="checkbox" name="permission" value="8388608">Create any workspace file</input><br/>
          <input type="checkbox" name="permission" value="16777216">Delete their workflows</input><br/>
          <input type="checkbox" name="permission" value="33554432">Delete all workflows</input><br/>
          <input type="checkbox" name="permission" value="67108864">Delete their jobs</input><br/>
          <input type="checkbox" name="permission" value="134217728">Delete all jobs</input><br/>
          <input type="checkbox" name="permission" value="268435456">Delete their workspacefiles</input><br/>
          <input type="checkbox" name="permission" value="536870912">Delete all workspace files</input><br/>
          <p/>
          
          Add IP Address: <input id="iptext" type="text" value=""/> <button id="addip" value="">Add</button><p/>
          <div id="ipadds" class="ipaddresses"></div>
          <button id="submitbutton" type="submit" form="adduser" value="Add">Add User</button>
       </form>

    </body>
</html>
